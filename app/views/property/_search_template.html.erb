<!-- 基本情報 -->
<div class="mb-4">
  <h6 class="text-muted mb-3">基本情報</h6>
  <div class="row g-3">
    <div class="col-md-6">
      <label class="form-label">貸主名</label>
      <%= text_field_tag :owner_name, @search_param[:owner_name], class: 'form-control', placeholder: '貸主名を入力' %>
    </div>
    <div class="col-md-6">
      <label class="form-label">貸主住所</label>
      <%= text_field_tag :owner_address, @search_param[:owner_address], class: 'form-control', placeholder: '貸主住所を入力' %>
    </div>
    <div class="col-md-6">
      <label class="form-label">物件名</label>
      <%= text_field_tag :building_name, @search_param[:building_name], class: 'form-control', placeholder: '物件名を入力' %>
    </div>
    <div class="col-md-6">
      <label class="form-label">物件住所</label>
      <%= text_field_tag :building_address, @search_param[:building_address], class: 'form-control', placeholder: '物件住所を入力' %>
    </div>
    <div class="col-md-6">
      <label class="form-label">管理営業所</label>
      <%= select_tag :shop_id, 
          options_from_collection_for_select(@shops, :id, :name, @search_param[:shop_id]), 
          prompt: '営業所を選択', 
          class: 'form-select' %>
    </div>
    <div class="col-md-6">
      <label class="form-label">貸主備考</label>
      <%= text_field_tag :owner_memo, @search_param[:owner_memo], class: 'form-control', placeholder: '貸主備考を入力' %>
    </div>
    <div class="col-md-6">
      <label class="form-label">物件備考</label>
      <%= text_field_tag :building_memo, @search_param[:building_memo], class: 'form-control', placeholder: '物件備考を入力' %>
    </div>
  </div>
</div>

<!-- 管理方式 -->
<div class="mb-4">
  <h6 class="text-muted mb-3">管理方式</h6>
  <div class="row g-2">
    <div class="col-md-3 col-sm-4 col-6">
      <div class="form-check">
        <%= check_box_tag :manage_type_i, true, @search_param[:manage_type_i], class: 'form-check-input' %>
        <label class="form-check-label" for="manage_type_i">一般</label>
      </div>
    </div>
    <div class="col-md-3 col-sm-4 col-6">
      <div class="form-check">
        <%= check_box_tag :manage_type_a, true, @search_param[:manage_type_a], class: 'form-check-input' %>
        <label class="form-check-label" for="manage_type_a">A管理</label>
      </div>
    </div>
    <div class="col-md-3 col-sm-4 col-6">
      <div class="form-check">
        <%= check_box_tag :manage_type_b, true, @search_param[:manage_type_b], class: 'form-check-input' %>
        <label class="form-check-label" for="manage_type_b">B管理</label>
      </div>
    </div>
    <div class="col-md-3 col-sm-4 col-6">
      <div class="form-check">
        <%= check_box_tag :manage_type_d, true, @search_param[:manage_type_d], class: 'form-check-input' %>
        <label class="form-check-label" for="manage_type_d">D管理</label>
      </div>
    </div>
    <div class="col-md-3 col-sm-4 col-6">
      <div class="form-check">
        <%= check_box_tag :manage_type_g, true, @search_param[:manage_type_g], class: 'form-check-input' %>
        <label class="form-check-label" for="manage_type_g">業務君</label>
      </div>
    </div>
    <div class="col-md-3 col-sm-4 col-6">
      <div class="form-check">
        <%= check_box_tag :manage_type_s, true, @search_param[:manage_type_s], class: 'form-check-input' %>
        <label class="form-check-label" for="manage_type_s">総務君</label>
      </div>
    </div>
    <div class="col-md-3 col-sm-4 col-6">
      <div class="form-check">
        <%= check_box_tag :manage_type_t, true, @search_param[:manage_type_t], class: 'form-check-input' %>
        <label class="form-check-label" for="manage_type_t">特優賃</label>
      </div>
    </div>
  </div>
</div>

<!-- その他オプション -->
<div class="mb-4">
  <div class="form-check">
    <%= check_box_tag :parking_search, true, @search_param[:parking_search], class: 'form-check-input' %>
    <label class="form-check-label" for="parking_search">駐車場・その他を含む</label>
  </div>
</div>

<!-- 履歴検索 -->
<div class="border rounded p-3 mb-4">
  <h6 class="text-muted mb-3">履歴検索</h6>
  
  <!-- 訪問履歴 -->
  <div class="mb-3">
    <label class="form-label small fw-bold">訪問履歴</label>
    <div class="row g-3 align-items-end">
      <div class="col-auto">
        <div class="form-check form-check-inline">
          <%= radio_button_tag 'history_visit', 'all', @history_visit[:all], class: 'form-check-input' %>
          <label class="form-check-label" for="history_visit_all">すべて</label>
        </div>
        <div class="form-check form-check-inline">
          <%= radio_button_tag 'history_visit', 'exist', @history_visit[:exist], class: 'form-check-input' %>
          <label class="form-check-label" for="history_visit_exist">履歴あり</label>
        </div>
      </div>
      <div class="col-md-3">
        <label class="form-label small">開始日</label>
        <%= text_field_tag 'history_visit_from', @history_visit_from, class: 'form-control datepicker', placeholder: 'yyyy/mm/dd' %>
      </div>
      <div class="col-md-3">
        <label class="form-label small">終了日</label>
        <%= text_field_tag 'history_visit_to', @history_visit_to, class: 'form-control datepicker', placeholder: 'yyyy/mm/dd' %>
      </div>
    </div>
  </div>

  <!-- DM履歴 -->
  <div class="mb-3">
    <label class="form-label small fw-bold">DM履歴</label>
    <div class="row g-3 align-items-end">
      <div class="col-auto">
        <div class="form-check form-check-inline">
          <%= radio_button_tag 'history_dm', 'all', @history_dm[:all], class: 'form-check-input' %>
          <label class="form-check-label" for="history_dm_all">すべて</label>
        </div>
        <div class="form-check form-check-inline">
          <%= radio_button_tag 'history_dm', 'exist', @history_dm[:exist], class: 'form-check-input' %>
          <label class="form-check-label" for="history_dm_exist">履歴あり</label>
        </div>
      </div>
      <div class="col-md-3">
        <label class="form-label small">開始日</label>
        <%= text_field_tag 'history_dm_from', @history_dm_from, class: 'form-control datepicker', placeholder: 'yyyy/mm/dd' %>
      </div>
      <div class="col-md-3">
        <label class="form-label small">終了日</label>
        <%= text_field_tag 'history_dm_to', @history_dm_to, class: 'form-control datepicker', placeholder: 'yyyy/mm/dd' %>
      </div>
    </div>
  </div>

  <!-- 電話履歴 -->
  <div class="mb-0">
    <label class="form-label small fw-bold">電話履歴</label>
    <div class="row g-3 align-items-end">
      <div class="col-auto">
        <div class="form-check form-check-inline">
          <%= radio_button_tag 'history_tel', 'all', @history_tel[:all], class: 'form-check-input' %>
          <label class="form-check-label" for="history_tel_all">すべて</label>
        </div>
        <div class="form-check form-check-inline">
          <%= radio_button_tag 'history_tel', 'exist', @history_tel[:exist], class: 'form-check-input' %>
          <label class="form-check-label" for="history_tel_exist">履歴あり</label>
        </div>
      </div>
      <div class="col-md-3">
        <label class="form-label small">開始日</label>
        <%= text_field_tag 'history_tel_from', @history_tel_from, class: 'form-control datepicker', placeholder: 'yyyy/mm/dd' %>
      </div>
      <div class="col-md-3">
        <label class="form-label small">終了日</label>
        <%= text_field_tag 'history_tel_to', @history_tel_to, class: 'form-control datepicker', placeholder: 'yyyy/mm/dd' %>
      </div>
    </div>
  </div>
</div>

<script>
$(document).ready(function() {
  // 日付ピッカー初期化
  if (typeof $.fn.datepicker !== 'undefined') {
    $('.datepicker').datepicker({
      format: "yyyy/mm/dd",
      language: "ja",
      autoclose: true,
      todayHighlight: true
    });
  }
});
</script>