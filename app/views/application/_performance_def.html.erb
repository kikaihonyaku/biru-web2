<script type="text/javascript">

// 検索したときにローディング状態を表示
var restut_status;

$(document).ready(function(){

  $('#graph-submit-top').click(function(){
    if(restut_status == true){
      screen_block();
    }
  });

  $('#graph-submit-bottom').click(function(){
    if(restut_status == true){
      screen_block();
    }
  });

  $('#search-vacant').click(function(){
    if(restut_status == true){
      screen_block();
    }
  });
	
});


var yyyymm_data = [
  { label:'年月',id: 6001,}
];

// cookieに展開状況を保存するため、idは全てに付ける。
var dept_data = [
  { label: '部署', id: 6100,
    children: [
      {label: 'ビル管理全体', graph_name: 'ビル管理全体', id:52, dept_list:[54,55,60,61,66],},
      {
        label: '東武南', graph_name: '東武南', id:54, dept_list:[80,81,82,83,84,104],
        children:[
          {label: '草加', graph_name: '草加', id:80, dept_list:[],},
          {label: '草加新田', graph_name: '草加新田', id:81,dept_list:[],},
          {label: '北千住', graph_name: '北千住', id:82,dept_list:[],},
          {label: '竹ノ塚', graph_name: '竹ノ塚', id:83,dept_list:[],},
          {label: '新越谷西口', graph_name: '新越谷西口',id:104, dept_list:[],},
          {label: '南越谷', graph_name: '南越谷', id:84, dept_list:[],},

        ]
      },
      {
        label: '東武北', graph_name: '東武北', id:55, dept_list:[85,86,87,88],
        children:[
          {label: '越谷', graph_name: '草加', id:85, dept_list:[],},
          {label: '北越谷', graph_name: '草加新田', id:86, dept_list:[],},
          {label: '春日部', graph_name: '北千住', id:87, dept_list:[],},
          {label: 'せんげん台', graph_name: '竹ノ塚', id:88, dept_list:[],},
        ]
      },
      {
        label: 'さいたま中央', graph_name: 'さいたま中央', id:60, dept_list:[89,90,91,94,92],
        children:[
          {label: '戸田公園', graph_name: '戸田公園', id:89, dept_list:[],},
          {label: '戸田', graph_name: '戸田', id:90, dept_list:[],},
          {label: '武蔵浦和', graph_name: '武蔵浦和', id:91, dept_list:[],},
          {label: '与野', graph_name: '与野', id:94, dept_list:[],},
          {label: '浦和', graph_name: '浦和',id:92, dept_list:[],},
        ]
      },
      {
        label: 'さいたま東', graph_name: 'さいたま東', id:61, dept_list:[93,95,96,97],
        children:[
          {label: '川口', graph_name: '川口', id:93, dept_list:[],},
          {label: '東浦和', graph_name: '東浦和', id:95, dept_list:[],},
          {label: '東川口', graph_name: '東川口', id:96, dept_list:[],},
          {label: '戸塚安行', graph_name: '戸塚安行', id:97, dept_list:[],},
        ]
      },
      {
        label: '常磐', graph_name: '常磐', id:66, dept_list:[98,99,100,101],
        children:[
          {label: '松戸', graph_name: '松戸', id:98, dept_list:[],},
          {label: '北松戸', graph_name: '北松戸', id:99, dept_list:[],},
          {label: '南流山', graph_name: '南流山', id:100, dept_list:[],},
          {label: '柏', graph_name: '柏', id:101, dept_list:[],},
        ]
      },
    ]
  }
];




$(function() {
	
  $('#tree-dept').tree({
      data: dept_data,
      saveState: 'c-dept'
  });

  $('#tree-dept').bind('tree.select',　
    function(event) {
      if (event.node) {
        // もしも選択されたNodeが非選択対象(3000以上)だったら、選択状態を解除
        var node = event.node;
        var num = parseInt(node.id);
        if(isNaN(num) == false){
          if(num >= 3000){
            $('#tree-dept').tree('removeFromSelection', node);
          }
        }
      }
    }
  );

});

  // Ajaxのオープンクローズ
function openClose(id, mid, disp_msg)
{
   var target = document.getElementById(id);
   var targetmsg = document.getElementById(mid);
   if(target)
   {
      var disp = target.style.display;
      var msg  = targetmsg.firstChild.nodeValue;

      if(disp == 'none')
      {
         disp='';
         msg= disp_msg + 'を非表示';
      }
      else
      {
         disp='none';
         msg= disp_msg + 'を表示';
      }
     
     target.style.display = disp;
     targetmsg.firstChild.nodeValue = msg;
   }
}

</script>